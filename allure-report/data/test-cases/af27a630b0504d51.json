{"uid":"af27a630b0504d51","name":"Сортировка товаров по цене","fullName":"tests.test_catalog.TestCatalog#test_sort_products_by_price","historyId":"adc9c206982fc1d817bb463d9df46f27","time":{"start":1673641321090,"stop":1673641403359,"duration":82269},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')","statusTrace":"self = <pages.catalog_page.CatalogPage object at 0x0000015E21D47550>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:145: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"83f1d50b686dbdb37de86d94ea6cff49\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x0000015E21D951B0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x00AAF243]\nE       \t(No symbol) [0x00A37FD1]\nE       \t(No symbol) [0x0092D04D]\nE       \t(No symbol) [0x0095C0B0]\nE       \t(No symbol) [0x0095C22B]\nE       \t(No symbol) [0x0098E612]\nE       \t(No symbol) [0x009785D4]\nE       \t(No symbol) [0x0098C9EB]\nE       \t(No symbol) [0x00978386]\nE       \t(No symbol) [0x0095163C]\nE       \t(No symbol) [0x0095269D]\nE       \tGetHandleVerifier [0x00D49A22+2655074]\nE       \tGetHandleVerifier [0x00D3CA24+2601828]\nE       \tGetHandleVerifier [0x00B58C0A+619850]\nE       \tGetHandleVerifier [0x00B57830+614768]\nE       \t(No symbol) [0x00A405FC]\nE       \t(No symbol) [0x00A45968]\nE       \t(No symbol) [0x00A45A55]\nE       \t(No symbol) [0x00A5051B]\nE       \tBaseThreadInitThunk [0x76476A39+25]\nE       \tRtlGetFullPathName_UEx [0x77487D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77487CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_catalog.TestCatalog object at 0x0000015E2143E470>\nmain_page = <pages.main_page.MainPage object at 0x0000015E214D99C0>\nheader = <pages.header.Header object at 0x0000015E21D47520>\ncatalog_page = <pages.catalog_page.CatalogPage object at 0x0000015E21D47550>\ndata_catalog_price = ['Price: High to Low', True, 'Sort by: Price: High to Low']\n\n    @title('Сортировка товаров по цене')\n    def test_sort_products_by_price(self, main_page, header, catalog_page, data_catalog_price):\n        main_page.open()\n        main_page.should_be_open_main_page()\n    \n        category_name = header.click_on_random_category_and_get_its_name()\n        catalog_page.should_be_open_catalog_page_by_title(category_name=category_name)\n    \n        catalog_page.sort_by(method=data_catalog_price[0])\n>       catalog_page.should_be_sort_by_price(is_reverse=data_catalog_price[1])\n\ntests\\test_catalog.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\catalog_page.py:156: in should_be_sort_by_price\n    self.scroll_to_buttons_block_for_product_with_name(\npages\\catalog_page.py:169: in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.catalog_page.CatalogPage object at 0x0000015E21D47550>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n\npages\\base_page.py:147: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1673641313451,"stop":1673641321089,"duration":7638},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"header","time":{"start":1673641321089,"stop":1673641321089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"main_page","time":{"start":1673641321089,"stop":1673641321089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"catalog_page","time":{"start":1673641321090,"stop":1673641321090,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')","statusTrace":"self = <pages.catalog_page.CatalogPage object at 0x0000015E21D47550>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:145: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"83f1d50b686dbdb37de86d94ea6cff49\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x0000015E21D951B0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x00AAF243]\nE       \t(No symbol) [0x00A37FD1]\nE       \t(No symbol) [0x0092D04D]\nE       \t(No symbol) [0x0095C0B0]\nE       \t(No symbol) [0x0095C22B]\nE       \t(No symbol) [0x0098E612]\nE       \t(No symbol) [0x009785D4]\nE       \t(No symbol) [0x0098C9EB]\nE       \t(No symbol) [0x00978386]\nE       \t(No symbol) [0x0095163C]\nE       \t(No symbol) [0x0095269D]\nE       \tGetHandleVerifier [0x00D49A22+2655074]\nE       \tGetHandleVerifier [0x00D3CA24+2601828]\nE       \tGetHandleVerifier [0x00B58C0A+619850]\nE       \tGetHandleVerifier [0x00B57830+614768]\nE       \t(No symbol) [0x00A405FC]\nE       \t(No symbol) [0x00A45968]\nE       \t(No symbol) [0x00A45A55]\nE       \t(No symbol) [0x00A5051B]\nE       \tBaseThreadInitThunk [0x76476A39+25]\nE       \tRtlGetFullPathName_UEx [0x77487D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77487CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_catalog.TestCatalog object at 0x0000015E2143E470>\nmain_page = <pages.main_page.MainPage object at 0x0000015E214D99C0>\nheader = <pages.header.Header object at 0x0000015E21D47520>\ncatalog_page = <pages.catalog_page.CatalogPage object at 0x0000015E21D47550>\ndata_catalog_price = ['Price: High to Low', True, 'Sort by: Price: High to Low']\n\n    @title('Сортировка товаров по цене')\n    def test_sort_products_by_price(self, main_page, header, catalog_page, data_catalog_price):\n        main_page.open()\n        main_page.should_be_open_main_page()\n    \n        category_name = header.click_on_random_category_and_get_its_name()\n        catalog_page.should_be_open_catalog_page_by_title(category_name=category_name)\n    \n        catalog_page.sort_by(method=data_catalog_price[0])\n>       catalog_page.should_be_sort_by_price(is_reverse=data_catalog_price[1])\n\ntests\\test_catalog.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\catalog_page.py:156: in should_be_sort_by_price\n    self.scroll_to_buttons_block_for_product_with_name(\npages\\catalog_page.py:169: in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.catalog_page.CatalogPage object at 0x0000015E21D47550>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n\npages\\base_page.py:147: AssertionError","steps":[{"name":"Проверить, что открыта главная страница","time":{"start":1673641323264,"stop":1673641323598,"duration":334},"status":"passed","steps":[],"attachments":[{"uid":"595fb9a6c9829ff1","name":"Screenshot","source":"595fb9a6c9829ff1.png","type":"image/png","size":77159}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Кликнуть по произвольной категории","time":{"start":1673641323598,"stop":1673641326929,"duration":3331},"status":"passed","steps":[],"attachments":[{"uid":"cddeb05b75b9ab93","name":"Screenshot","source":"cddeb05b75b9ab93.png","type":"image/png","size":122458}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Проверить, что открыта страница каталога: 'APPAREL & SHOES'","time":{"start":1673641326929,"stop":1673641327082,"duration":153},"status":"passed","steps":[],"attachments":[{"uid":"7a44ef2f744948f6","name":"Screenshot","source":"7a44ef2f744948f6.png","type":"image/png","size":122458}],"parameters":[{"name":"category_name","value":"'APPAREL & SHOES'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Отсортировать товары по: 'Price: High to Low'","time":{"start":1673641327082,"stop":1673641328112,"duration":1030},"status":"passed","steps":[],"attachments":[{"uid":"9be691a4fac3e59c","name":"Screenshot","source":"9be691a4fac3e59c.png","type":"image/png","size":119442}],"parameters":[{"name":"method","value":"'Price: High to Low'"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Проверить сортировку товаров по цене","time":{"start":1673641328112,"stop":1673641403359,"duration":75247},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n","statusTrace":"  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\catalog_page.py\", line 156, in should_be_sort_by_price\n    self.scroll_to_buttons_block_for_product_with_name(\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\catalog_page.py\", line 169, in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 147, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[],"attachments":[{"uid":"2909828b101ba867","name":"Screenshot","source":"2909828b101ba867.png","type":"image/png","size":119442}],"parameters":[{"name":"is_reverse","value":"True"}],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":1}],"attachments":[],"parameters":[],"stepsCount":5,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":5},"afterStages":[{"name":"browser::0","time":{"start":1673641403500,"stop":1673641405623,"duration":2123},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"epic","value":"Frontend"},{"name":"feature","value":"Каталог"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_catalog"},{"name":"subSuite","value":"TestCatalog"},{"name":"host","value":"fv-az282-209"},{"name":"thread","value":"3492-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_catalog"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data_catalog_price","value":"['Price: High to Low', True, 'Sort by: Price: High to Low']"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"af27a630b0504d51.json","parameterValues":["['Price: High to Low', True, 'Sort by: Price: High to Low']"]}