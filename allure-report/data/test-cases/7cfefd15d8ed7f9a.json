{"uid":"7cfefd15d8ed7f9a","name":"Авторизация пользователя с невалидными данными","fullName":"tests.test_login.TestLogin#test_login_user_with_invalid_data","historyId":"7fafab4bd98c4e8ae9adc8ba5697d662","time":{"start":1673047646784,"stop":1673047646784,"duration":0},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')","statusTrace":"self = <pages.header.Header object at 0x0000013EAE8ECFA0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"3433be40b64564570076ae08797ef099\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x0000013EAE8F13F0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x0046F243]\nE       \t(No symbol) [0x003F7FD1]\nE       \t(No symbol) [0x002ED04D]\nE       \t(No symbol) [0x0031C0B0]\nE       \t(No symbol) [0x0031C22B]\nE       \t(No symbol) [0x0034E612]\nE       \t(No symbol) [0x003385D4]\nE       \t(No symbol) [0x0034C9EB]\nE       \t(No symbol) [0x00338386]\nE       \t(No symbol) [0x0031163C]\nE       \t(No symbol) [0x0031269D]\nE       \tGetHandleVerifier [0x00709A22+2655074]\nE       \tGetHandleVerifier [0x006FCA24+2601828]\nE       \tGetHandleVerifier [0x00518C0A+619850]\nE       \tGetHandleVerifier [0x00517830+614768]\nE       \t(No symbol) [0x004005FC]\nE       \t(No symbol) [0x00405968]\nE       \t(No symbol) [0x00405A55]\nE       \t(No symbol) [0x0041051B]\nE       \tBaseThreadInitThunk [0x76506A39+25]\nE       \tRtlGetFullPathName_UEx [0x776C7D1D+173]\nE       \tRtlGetFullPathName_UEx [0x776C7CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nheader = <pages.header.Header object at 0x0000013EAE8ECFA0>\nregistration_page = <pages.registration_page.RegistrationPage object at 0x0000013EAE8ED360>\nmain_page = <pages.main_page.MainPage object at 0x0000013EAE8ECEB0>\n\n    @fixture(scope='function')\n    def create_user(header, registration_page, main_page):\n        \"\"\"\n        Создание пользователя.\n        \"\"\"\n    \n        user = UserData()\n        firstname = user.firstname()\n        lastname = user.lastname()\n        email = user.email()\n        password = user.password()\n    \n        main_page.open()\n        header.go_to_register_page()\n        registration_page.fill_registration_form(\n            is_random=False,\n            firstname=firstname,\n            lastname=lastname,\n            email=email,\n            password=password,\n        )\n        registration_page.click_on_register_button()\n>       header.logout_user()\n\nfixtures\\ui.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\header.py:31: in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.header.Header object at 0x0000013EAE8ECFA0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n\npages\\base_page.py:139: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1673047646784,"stop":1673047667878,"duration":21094},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"main_page","time":{"start":1673047667878,"stop":1673047667878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"header","time":{"start":1673047667878,"stop":1673047667878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"create_user","time":{"start":1673047667879,"stop":1673047679031,"duration":11152},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n","statusTrace":"  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\_pytest\\fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\_pytest\\fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\fixtures\\ui.py\", line 94, in create_user\n    header.logout_user()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\header.py\", line 31, in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 139, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[{"name":"Перейти на страницу регистрации","time":{"start":1673047670744,"stop":1673047671505,"duration":761},"status":"passed","steps":[],"attachments":[{"uid":"7c9b5395caf06830","name":"Screenshot","source":"7c9b5395caf06830.png","type":"image/png","size":48314}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true},{"name":"Заполнить форму регистрации","time":{"start":1673047671505,"stop":1673047672242,"duration":737},"status":"passed","steps":[{"name":"Заполнить поле \"First name\" значением: Германн","time":{"start":1673047671505,"stop":1673047671689,"duration":184},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"Заполнить поле \"Last name\" значением: Суханова","time":{"start":1673047671689,"stop":1673047671824,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"Заполнить поле \"Email\" значением: zen1940@duck.com","time":{"start":1673047671824,"stop":1673047671962,"duration":138},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"Заполнить поле \"Password\" значением: FRG<yCr~","time":{"start":1673047671962,"stop":1673047672060,"duration":98},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"Заполнить поле \"Confirm password\" значением: FRG<yCr~","time":{"start":1673047672060,"stop":1673047672172,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"attachments":[{"uid":"61bceafce456791f","name":"Screenshot","source":"61bceafce456791f.png","type":"image/png","size":51864}],"parameters":[{"name":"gender","value":"None"},{"name":"firstname","value":"'Германн'"},{"name":"lastname","value":"'Суханова'"},{"name":"email","value":"'zen1940@duck.com'"},{"name":"password","value":"'FRG<yCr~'"},{"name":"confirm_password","value":"None"},{"name":"is_random","value":"False"}],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":5,"hasContent":true},{"name":"Кликнуть по кнопке \"Register\"","time":{"start":1673047672243,"stop":1673047673697,"duration":1454},"status":"passed","steps":[],"attachments":[{"uid":"93455c2da73f1125","name":"Screenshot","source":"93455c2da73f1125.png","type":"image/png","size":33432}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true},{"name":"Выйти из профиля пользователя","time":{"start":1673047673697,"stop":1673047679029,"duration":5332},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n","statusTrace":"  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\header.py\", line 31, in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 139, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[],"attachments":[{"uid":"77fa01e81c9128c3","name":"Screenshot","source":"77fa01e81c9128c3.png","type":"image/png","size":33432}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"attachmentsCount":4,"shouldDisplayMessage":false,"stepsCount":9,"hasContent":true},{"name":"registration_page","time":{"start":1673047667879,"stop":1673047667879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"login_page","time":{"start":1673047667879,"stop":1673047667879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')","statusTrace":"self = <pages.header.Header object at 0x0000013EAE8ECFA0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"3433be40b64564570076ae08797ef099\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x0000013EAE8F13F0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x0046F243]\nE       \t(No symbol) [0x003F7FD1]\nE       \t(No symbol) [0x002ED04D]\nE       \t(No symbol) [0x0031C0B0]\nE       \t(No symbol) [0x0031C22B]\nE       \t(No symbol) [0x0034E612]\nE       \t(No symbol) [0x003385D4]\nE       \t(No symbol) [0x0034C9EB]\nE       \t(No symbol) [0x00338386]\nE       \t(No symbol) [0x0031163C]\nE       \t(No symbol) [0x0031269D]\nE       \tGetHandleVerifier [0x00709A22+2655074]\nE       \tGetHandleVerifier [0x006FCA24+2601828]\nE       \tGetHandleVerifier [0x00518C0A+619850]\nE       \tGetHandleVerifier [0x00517830+614768]\nE       \t(No symbol) [0x004005FC]\nE       \t(No symbol) [0x00405968]\nE       \t(No symbol) [0x00405A55]\nE       \t(No symbol) [0x0041051B]\nE       \tBaseThreadInitThunk [0x76506A39+25]\nE       \tRtlGetFullPathName_UEx [0x776C7D1D+173]\nE       \tRtlGetFullPathName_UEx [0x776C7CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nheader = <pages.header.Header object at 0x0000013EAE8ECFA0>\nregistration_page = <pages.registration_page.RegistrationPage object at 0x0000013EAE8ED360>\nmain_page = <pages.main_page.MainPage object at 0x0000013EAE8ECEB0>\n\n    @fixture(scope='function')\n    def create_user(header, registration_page, main_page):\n        \"\"\"\n        Создание пользователя.\n        \"\"\"\n    \n        user = UserData()\n        firstname = user.firstname()\n        lastname = user.lastname()\n        email = user.email()\n        password = user.password()\n    \n        main_page.open()\n        header.go_to_register_page()\n        registration_page.fill_registration_form(\n            is_random=False,\n            firstname=firstname,\n            lastname=lastname,\n            email=email,\n            password=password,\n        )\n        registration_page.click_on_register_button()\n>       header.logout_user()\n\nfixtures\\ui.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\header.py:31: in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.header.Header object at 0x0000013EAE8ECFA0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n\npages\\base_page.py:139: AssertionError","steps":[],"attachments":[{"uid":"551111bd0c43734e","name":"stderr","source":"551111bd0c43734e.txt","type":"text/plain","size":248}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true},"afterStages":[{"name":"browser::0","time":{"start":1673047679165,"stop":1673047685457,"duration":6292},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Frontend"},{"name":"feature","value":"Авторизация пользователей"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"fv-az420-421"},{"name":"thread","value":"1436-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data_login_invaliddata","value":"['wrong@email.ru', None, 'No customer account found', 'Login with wrong email']"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"7cfefd15d8ed7f9a.json","parameterValues":["['wrong@email.ru', None, 'No customer account found', 'Login with wrong email']"]}