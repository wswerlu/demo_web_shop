{"uid":"dcd9c48db609ffcb","name":"Авторизация пользователя с невалидными данными","fullName":"tests.test_login.TestLogin#test_login_user_with_invalid_data","historyId":"7fafab4bd98c4e8ae9adc8ba5697d662","time":{"start":1673049077983,"stop":1673049077983,"duration":0},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')","statusTrace":"self = <pages.header.Header object at 0x00000209C61AD060>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"b8f432526f2d38a84dfdf72b7bf3f693\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x00000209C61B13F0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x010FF243]\nE       \t(No symbol) [0x01087FD1]\nE       \t(No symbol) [0x00F7D04D]\nE       \t(No symbol) [0x00FAC0B0]\nE       \t(No symbol) [0x00FAC22B]\nE       \t(No symbol) [0x00FDE612]\nE       \t(No symbol) [0x00FC85D4]\nE       \t(No symbol) [0x00FDC9EB]\nE       \t(No symbol) [0x00FC8386]\nE       \t(No symbol) [0x00FA163C]\nE       \t(No symbol) [0x00FA269D]\nE       \tGetHandleVerifier [0x01399A22+2655074]\nE       \tGetHandleVerifier [0x0138CA24+2601828]\nE       \tGetHandleVerifier [0x011A8C0A+619850]\nE       \tGetHandleVerifier [0x011A7830+614768]\nE       \t(No symbol) [0x010905FC]\nE       \t(No symbol) [0x01095968]\nE       \t(No symbol) [0x01095A55]\nE       \t(No symbol) [0x010A051B]\nE       \tBaseThreadInitThunk [0x75996A39+25]\nE       \tRtlGetFullPathName_UEx [0x77077D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77077CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nheader = <pages.header.Header object at 0x00000209C61AD060>\nregistration_page = <pages.registration_page.RegistrationPage object at 0x00000209C61AD420>\nmain_page = <pages.main_page.MainPage object at 0x00000209C61ACF70>\n\n    @fixture(scope='function')\n    def create_user(header, registration_page, main_page):\n        \"\"\"\n        Создание пользователя.\n        \"\"\"\n    \n        user = UserData()\n        firstname = user.firstname()\n        lastname = user.lastname()\n        email = user.email()\n        password = user.password()\n    \n        main_page.open()\n        header.go_to_register_page()\n        registration_page.fill_registration_form(\n            is_random=False,\n            firstname=firstname,\n            lastname=lastname,\n            email=email,\n            password=password,\n        )\n        registration_page.click_on_register_button()\n>       header.logout_user()\n\nfixtures\\ui.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\header.py:31: in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.header.Header object at 0x00000209C61AD060>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n\npages\\base_page.py:139: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1673049077983,"stop":1673049096159,"duration":18176},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"header","time":{"start":1673049096159,"stop":1673049096159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"create_user","time":{"start":1673049096159,"stop":1673049107920,"duration":11761},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n","statusTrace":"  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\_pytest\\fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\_pytest\\fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\fixtures\\ui.py\", line 94, in create_user\n    header.logout_user()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\header.py\", line 31, in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 139, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[{"name":"Перейти на страницу регистрации","time":{"start":1673049098927,"stop":1673049099866,"duration":939},"status":"passed","steps":[],"attachments":[{"uid":"e3524beeba09f093","name":"Screenshot","source":"e3524beeba09f093.png","type":"image/png","size":48314}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Заполнить форму регистрации","time":{"start":1673049099866,"stop":1673049101347,"duration":1481},"status":"passed","steps":[{"name":"Заполнить поле \"First name\" значением: Снежана","time":{"start":1673049099866,"stop":1673049100499,"duration":633},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Last name\" значением: Карабанова","time":{"start":1673049100499,"stop":1673049100823,"duration":324},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Email\" значением: elite1939@example.com","time":{"start":1673049100823,"stop":1673049101001,"duration":178},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Password\" значением: <Ud6%pg)","time":{"start":1673049101001,"stop":1673049101154,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Confirm password\" значением: <Ud6%pg)","time":{"start":1673049101154,"stop":1673049101273,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"5b5f373f26dd4086","name":"Screenshot","source":"5b5f373f26dd4086.png","type":"image/png","size":52262}],"parameters":[{"name":"gender","value":"None"},{"name":"firstname","value":"'Снежана'"},{"name":"lastname","value":"'Карабанова'"},{"name":"email","value":"'elite1939@example.com'"},{"name":"password","value":"'<Ud6%pg)'"},{"name":"confirm_password","value":"None"},{"name":"is_random","value":"False"}],"stepsCount":5,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Кликнуть по кнопке \"Register\"","time":{"start":1673049101347,"stop":1673049102656,"duration":1309},"status":"passed","steps":[],"attachments":[{"uid":"496b4f1affb925dc","name":"Screenshot","source":"496b4f1affb925dc.png","type":"image/png","size":33432}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Выйти из профиля пользователя","time":{"start":1673049102657,"stop":1673049107919,"duration":5262},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n","statusTrace":"  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\header.py\", line 31, in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 139, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[],"attachments":[{"uid":"3227d89d5b17f667","name":"Screenshot","source":"3227d89d5b17f667.png","type":"image/png","size":33432}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":1}],"attachments":[],"parameters":[],"stepsCount":9,"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":4},{"name":"login_page","time":{"start":1673049096159,"stop":1673049096159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"registration_page","time":{"start":1673049096159,"stop":1673049096159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"main_page","time":{"start":1673049096159,"stop":1673049096159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')","statusTrace":"self = <pages.header.Header object at 0x00000209C61AD060>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"b8f432526f2d38a84dfdf72b7bf3f693\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x00000209C61B13F0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x010FF243]\nE       \t(No symbol) [0x01087FD1]\nE       \t(No symbol) [0x00F7D04D]\nE       \t(No symbol) [0x00FAC0B0]\nE       \t(No symbol) [0x00FAC22B]\nE       \t(No symbol) [0x00FDE612]\nE       \t(No symbol) [0x00FC85D4]\nE       \t(No symbol) [0x00FDC9EB]\nE       \t(No symbol) [0x00FC8386]\nE       \t(No symbol) [0x00FA163C]\nE       \t(No symbol) [0x00FA269D]\nE       \tGetHandleVerifier [0x01399A22+2655074]\nE       \tGetHandleVerifier [0x0138CA24+2601828]\nE       \tGetHandleVerifier [0x011A8C0A+619850]\nE       \tGetHandleVerifier [0x011A7830+614768]\nE       \t(No symbol) [0x010905FC]\nE       \t(No symbol) [0x01095968]\nE       \t(No symbol) [0x01095A55]\nE       \t(No symbol) [0x010A051B]\nE       \tBaseThreadInitThunk [0x75996A39+25]\nE       \tRtlGetFullPathName_UEx [0x77077D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77077CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nheader = <pages.header.Header object at 0x00000209C61AD060>\nregistration_page = <pages.registration_page.RegistrationPage object at 0x00000209C61AD420>\nmain_page = <pages.main_page.MainPage object at 0x00000209C61ACF70>\n\n    @fixture(scope='function')\n    def create_user(header, registration_page, main_page):\n        \"\"\"\n        Создание пользователя.\n        \"\"\"\n    \n        user = UserData()\n        firstname = user.firstname()\n        lastname = user.lastname()\n        email = user.email()\n        password = user.password()\n    \n        main_page.open()\n        header.go_to_register_page()\n        registration_page.fill_registration_form(\n            is_random=False,\n            firstname=firstname,\n            lastname=lastname,\n            email=email,\n            password=password,\n        )\n        registration_page.click_on_register_button()\n>       header.logout_user()\n\nfixtures\\ui.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\header.py:31: in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.header.Header object at 0x00000209C61AD060>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n\npages\\base_page.py:139: AssertionError","steps":[],"attachments":[{"uid":"8c89b91bb39a4040","name":"stderr","source":"8c89b91bb39a4040.txt","type":"text/plain","size":248}],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":1},"afterStages":[{"name":"browser::0","time":{"start":1673049108137,"stop":1673049110308,"duration":2171},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"epic","value":"Frontend"},{"name":"feature","value":"Авторизация пользователей"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"fv-az252-266"},{"name":"thread","value":"5664-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data_login_invaliddata","value":"['wrong@email.ru', None, 'No customer account found', 'Login with wrong email']"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"dcd9c48db609ffcb.json","parameterValues":["['wrong@email.ru', None, 'No customer account found', 'Login with wrong email']"]}