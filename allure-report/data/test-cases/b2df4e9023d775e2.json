{"uid":"b2df4e9023d775e2","name":"Сортировка товаров по алфавиту","fullName":"tests.test_catalog.TestCatalog#test_sort_products_by_alphabet","historyId":"6903c5f3e118eb7565f1da623ce59daf","time":{"start":1673646101458,"stop":1673646194636,"duration":93178},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')","statusTrace":"self = <pages.catalog_page.CatalogPage object at 0x000001697FD8B280>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:145: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"90d653b2e4cc53e47dd47f6961bcebd6\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x000001697FDE5630>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x0040F243]\nE       \t(No symbol) [0x00397FD1]\nE       \t(No symbol) [0x0028D04D]\nE       \t(No symbol) [0x002BC0B0]\nE       \t(No symbol) [0x002BC22B]\nE       \t(No symbol) [0x002EE612]\nE       \t(No symbol) [0x002D85D4]\nE       \t(No symbol) [0x002EC9EB]\nE       \t(No symbol) [0x002D8386]\nE       \t(No symbol) [0x002B163C]\nE       \t(No symbol) [0x002B269D]\nE       \tGetHandleVerifier [0x006A9A22+2655074]\nE       \tGetHandleVerifier [0x0069CA24+2601828]\nE       \tGetHandleVerifier [0x004B8C0A+619850]\nE       \tGetHandleVerifier [0x004B7830+614768]\nE       \t(No symbol) [0x003A05FC]\nE       \t(No symbol) [0x003A5968]\nE       \t(No symbol) [0x003A5A55]\nE       \t(No symbol) [0x003B051B]\nE       \tBaseThreadInitThunk [0x777E6A39+25]\nE       \tRtlGetFullPathName_UEx [0x77B97D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77B97CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_catalog.TestCatalog object at 0x000001697FC8DF60>\nmain_page = <pages.main_page.MainPage object at 0x000001697FCC04F0>\nheader = <pages.header.Header object at 0x000001697FD8B370>\ncatalog_page = <pages.catalog_page.CatalogPage object at 0x000001697FD8B280>\ndata_catalog_alphabet = ['Name: Z to A', True, 'Sort by: Name: Z to A']\n\n    @title('Сортировка товаров по алфавиту')\n    def test_sort_products_by_alphabet(self, main_page, header, catalog_page, data_catalog_alphabet):\n        main_page.open()\n        main_page.should_be_open_main_page()\n    \n        category_name = header.click_on_random_category_and_get_its_name()\n        catalog_page.should_be_open_catalog_page_by_title(category_name=category_name)\n    \n        catalog_page.sort_by(method=data_catalog_alphabet[0])\n>       catalog_page.should_be_sort_by_alphabet(is_reverse=data_catalog_alphabet[1])\n\ntests\\test_catalog.py:20: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\catalog_page.py:133: in should_be_sort_by_alphabet\n    self.scroll_to_buttons_block_for_product_with_name(\npages\\catalog_page.py:169: in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.catalog_page.CatalogPage object at 0x000001697FD8B280>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n\npages\\base_page.py:147: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1673646098237,"stop":1673646101456,"duration":3219},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"main_page","time":{"start":1673646101456,"stop":1673646101457,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"header","time":{"start":1673646101457,"stop":1673646101457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"catalog_page","time":{"start":1673646101457,"stop":1673646101457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')","statusTrace":"self = <pages.catalog_page.CatalogPage object at 0x000001697FD8B280>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:145: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"90d653b2e4cc53e47dd47f6961bcebd6\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x000001697FDE5630>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x0040F243]\nE       \t(No symbol) [0x00397FD1]\nE       \t(No symbol) [0x0028D04D]\nE       \t(No symbol) [0x002BC0B0]\nE       \t(No symbol) [0x002BC22B]\nE       \t(No symbol) [0x002EE612]\nE       \t(No symbol) [0x002D85D4]\nE       \t(No symbol) [0x002EC9EB]\nE       \t(No symbol) [0x002D8386]\nE       \t(No symbol) [0x002B163C]\nE       \t(No symbol) [0x002B269D]\nE       \tGetHandleVerifier [0x006A9A22+2655074]\nE       \tGetHandleVerifier [0x0069CA24+2601828]\nE       \tGetHandleVerifier [0x004B8C0A+619850]\nE       \tGetHandleVerifier [0x004B7830+614768]\nE       \t(No symbol) [0x003A05FC]\nE       \t(No symbol) [0x003A5968]\nE       \t(No symbol) [0x003A5A55]\nE       \t(No symbol) [0x003B051B]\nE       \tBaseThreadInitThunk [0x777E6A39+25]\nE       \tRtlGetFullPathName_UEx [0x77B97D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77B97CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_catalog.TestCatalog object at 0x000001697FC8DF60>\nmain_page = <pages.main_page.MainPage object at 0x000001697FCC04F0>\nheader = <pages.header.Header object at 0x000001697FD8B370>\ncatalog_page = <pages.catalog_page.CatalogPage object at 0x000001697FD8B280>\ndata_catalog_alphabet = ['Name: Z to A', True, 'Sort by: Name: Z to A']\n\n    @title('Сортировка товаров по алфавиту')\n    def test_sort_products_by_alphabet(self, main_page, header, catalog_page, data_catalog_alphabet):\n        main_page.open()\n        main_page.should_be_open_main_page()\n    \n        category_name = header.click_on_random_category_and_get_its_name()\n        catalog_page.should_be_open_catalog_page_by_title(category_name=category_name)\n    \n        catalog_page.sort_by(method=data_catalog_alphabet[0])\n>       catalog_page.should_be_sort_by_alphabet(is_reverse=data_catalog_alphabet[1])\n\ntests\\test_catalog.py:20: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\catalog_page.py:133: in should_be_sort_by_alphabet\n    self.scroll_to_buttons_block_for_product_with_name(\npages\\catalog_page.py:169: in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.catalog_page.CatalogPage object at 0x000001697FD8B280>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n\npages\\base_page.py:147: AssertionError","steps":[{"name":"Проверить, что открыта главная страница","time":{"start":1673646104621,"stop":1673646104800,"duration":179},"status":"passed","steps":[],"attachments":[{"uid":"d379476795e6f0ac","name":"Screenshot","source":"d379476795e6f0ac.png","type":"image/png","size":75881}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true},{"name":"Кликнуть по произвольной категории","time":{"start":1673646104801,"stop":1673646108407,"duration":3606},"status":"passed","steps":[],"attachments":[{"uid":"495a97170e59689e","name":"Screenshot","source":"495a97170e59689e.png","type":"image/png","size":122458}],"parameters":[],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true},{"name":"Проверить, что открыта страница каталога: 'APPAREL & SHOES'","time":{"start":1673646108407,"stop":1673646108519,"duration":112},"status":"passed","steps":[],"attachments":[{"uid":"2963602b45f6aaf8","name":"Screenshot","source":"2963602b45f6aaf8.png","type":"image/png","size":122458}],"parameters":[{"name":"category_name","value":"'APPAREL & SHOES'"}],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true},{"name":"Отсортировать товары по: 'Name: Z to A'","time":{"start":1673646108519,"stop":1673646109298,"duration":779},"status":"passed","steps":[],"attachments":[{"uid":"7b3347ef0199d1f0","name":"Screenshot","source":"7b3347ef0199d1f0.png","type":"image/png","size":106293}],"parameters":[{"name":"method","value":"'Name: Z to A'"}],"attachmentsCount":1,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":true},{"name":"Проверить сортировку товаров по алфавиту","time":{"start":1673646109298,"stop":1673646194635,"duration":85337},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n","statusTrace":"  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\catalog_page.py\", line 133, in should_be_sort_by_alphabet\n    self.scroll_to_buttons_block_for_product_with_name(\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\catalog_page.py\", line 169, in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 147, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[],"attachments":[{"uid":"2dcb234054b35fc8","name":"Screenshot","source":"2dcb234054b35fc8.png","type":"image/png","size":106293}],"parameters":[{"name":"is_reverse","value":"True"}],"attachmentsCount":1,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"attachmentsCount":5,"shouldDisplayMessage":true,"stepsCount":5,"hasContent":true},"afterStages":[{"name":"browser::0","time":{"start":1673646194833,"stop":1673646196921,"duration":2088},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Frontend"},{"name":"feature","value":"Каталог"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_catalog"},{"name":"subSuite","value":"TestCatalog"},{"name":"host","value":"fv-az416-444"},{"name":"thread","value":"6596-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_catalog"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data_catalog_alphabet","value":"['Name: Z to A', True, 'Sort by: Name: Z to A']"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"b2df4e9023d775e2.json","parameterValues":["['Name: Z to A', True, 'Sort by: Name: Z to A']"]}