{"uid":"b8fb0412a06e27d0","name":"Авторизация пользователя с невалидными данными","fullName":"tests.test_login.TestLogin#test_login_user_with_invalid_data","historyId":"16b82ff6efcfe3154785e6666ae6d93c","time":{"start":1673055607364,"stop":1673055607364,"duration":0},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')","statusTrace":"self = <pages.header.Header object at 0x000001FF181927D0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"5434ec606e15f3a2ffd4fb72bef54c31\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x000001FF1817B010>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x00E3F243]\nE       \t(No symbol) [0x00DC7FD1]\nE       \t(No symbol) [0x00CBD04D]\nE       \t(No symbol) [0x00CEC0B0]\nE       \t(No symbol) [0x00CEC22B]\nE       \t(No symbol) [0x00D1E612]\nE       \t(No symbol) [0x00D085D4]\nE       \t(No symbol) [0x00D1C9EB]\nE       \t(No symbol) [0x00D08386]\nE       \t(No symbol) [0x00CE163C]\nE       \t(No symbol) [0x00CE269D]\nE       \tGetHandleVerifier [0x010D9A22+2655074]\nE       \tGetHandleVerifier [0x010CCA24+2601828]\nE       \tGetHandleVerifier [0x00EE8C0A+619850]\nE       \tGetHandleVerifier [0x00EE7830+614768]\nE       \t(No symbol) [0x00DD05FC]\nE       \t(No symbol) [0x00DD5968]\nE       \t(No symbol) [0x00DD5A55]\nE       \t(No symbol) [0x00DE051B]\nE       \tBaseThreadInitThunk [0x76CF6A39+25]\nE       \tRtlGetFullPathName_UEx [0x77DB7D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77DB7CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nheader = <pages.header.Header object at 0x000001FF181927D0>\nregistration_page = <pages.registration_page.RegistrationPage object at 0x000001FF18192410>\nmain_page = <pages.main_page.MainPage object at 0x000001FF181928C0>\n\n    @fixture(scope='function')\n    def create_user(header, registration_page, main_page):\n        \"\"\"\n        Создание пользователя.\n        \"\"\"\n    \n        user = UserData()\n        firstname = user.firstname()\n        lastname = user.lastname()\n        email = user.email()\n        password = user.password()\n    \n        main_page.open()\n        header.go_to_register_page()\n        registration_page.fill_registration_form(\n            is_random=False,\n            firstname=firstname,\n            lastname=lastname,\n            email=email,\n            password=password,\n        )\n        registration_page.click_on_register_button()\n>       header.logout_user()\n\nfixtures\\ui.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\header.py:31: in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.header.Header object at 0x000001FF181927D0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n\npages\\base_page.py:139: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1673055607364,"stop":1673055627015,"duration":19651},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"main_page","time":{"start":1673055627016,"stop":1673055627016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"header","time":{"start":1673055627016,"stop":1673055627016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"registration_page","time":{"start":1673055627016,"stop":1673055627016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"create_user","time":{"start":1673055627016,"stop":1673055640030,"duration":13014},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n","statusTrace":"  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\_pytest\\fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"C:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\_pytest\\fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\fixtures\\ui.py\", line 94, in create_user\n    header.logout_user()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\header.py\", line 31, in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 139, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[{"name":"Перейти на страницу регистрации","time":{"start":1673055630075,"stop":1673055631109,"duration":1034},"status":"passed","steps":[],"attachments":[{"uid":"bb0b51d56e7d0370","name":"Screenshot","source":"bb0b51d56e7d0370.png","type":"image/png","size":48314}],"parameters":[],"hasContent":true,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Заполнить форму регистрации","time":{"start":1673055631109,"stop":1673055632800,"duration":1691},"status":"passed","steps":[{"name":"Заполнить поле \"First name\" значением: Конон","time":{"start":1673055631109,"stop":1673055631375,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Last name\" значением: Петелин","time":{"start":1673055631375,"stop":1673055631641,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Email\" значением: trustee1808@gmail.com","time":{"start":1673055631641,"stop":1673055632027,"duration":386},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Password\" значением: <EQ#'OOO","time":{"start":1673055632027,"stop":1673055632285,"duration":258},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Заполнить поле \"Confirm password\" значением: <EQ#'OOO","time":{"start":1673055632285,"stop":1673055632572,"duration":287},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"ad2909ff07b16c97","name":"Screenshot","source":"ad2909ff07b16c97.png","type":"image/png","size":51640}],"parameters":[{"name":"gender","value":"None"},{"name":"firstname","value":"'Конон'"},{"name":"lastname","value":"'Петелин'"},{"name":"email","value":"'trustee1808@gmail.com'"},{"name":"password","value":"'<EQ#'OOO'"},{"name":"confirm_password","value":"None"},{"name":"is_random","value":"False"}],"hasContent":true,"stepsCount":5,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Кликнуть по кнопке \"Register\"","time":{"start":1673055632800,"stop":1673055634803,"duration":2003},"status":"passed","steps":[],"attachments":[{"uid":"8a9d0ad0daaddcd1","name":"Screenshot","source":"8a9d0ad0daaddcd1.png","type":"image/png","size":33432}],"parameters":[],"hasContent":true,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"Выйти из профиля пользователя","time":{"start":1673055634803,"stop":1673055640028,"duration":5225},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n","statusTrace":"  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\header.py\", line 31, in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 139, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[],"attachments":[{"uid":"bddf42480d5d72da","name":"Screenshot","source":"bddf42480d5d72da.png","type":"image/png","size":33432}],"parameters":[],"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":4},{"name":"login_page","time":{"start":1673055627016,"stop":1673055627016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')","statusTrace":"self = <pages.header.Header object at 0x000001FF181927D0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"5434ec606e15f3a2ffd4fb72bef54c31\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x000001FF1817B010>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x00E3F243]\nE       \t(No symbol) [0x00DC7FD1]\nE       \t(No symbol) [0x00CBD04D]\nE       \t(No symbol) [0x00CEC0B0]\nE       \t(No symbol) [0x00CEC22B]\nE       \t(No symbol) [0x00D1E612]\nE       \t(No symbol) [0x00D085D4]\nE       \t(No symbol) [0x00D1C9EB]\nE       \t(No symbol) [0x00D08386]\nE       \t(No symbol) [0x00CE163C]\nE       \t(No symbol) [0x00CE269D]\nE       \tGetHandleVerifier [0x010D9A22+2655074]\nE       \tGetHandleVerifier [0x010CCA24+2601828]\nE       \tGetHandleVerifier [0x00EE8C0A+619850]\nE       \tGetHandleVerifier [0x00EE7830+614768]\nE       \t(No symbol) [0x00DD05FC]\nE       \t(No symbol) [0x00DD5968]\nE       \t(No symbol) [0x00DD5A55]\nE       \t(No symbol) [0x00DE051B]\nE       \tBaseThreadInitThunk [0x76CF6A39+25]\nE       \tRtlGetFullPathName_UEx [0x77DB7D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77DB7CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nheader = <pages.header.Header object at 0x000001FF181927D0>\nregistration_page = <pages.registration_page.RegistrationPage object at 0x000001FF18192410>\nmain_page = <pages.main_page.MainPage object at 0x000001FF181928C0>\n\n    @fixture(scope='function')\n    def create_user(header, registration_page, main_page):\n        \"\"\"\n        Создание пользователя.\n        \"\"\"\n    \n        user = UserData()\n        firstname = user.firstname()\n        lastname = user.lastname()\n        email = user.email()\n        password = user.password()\n    \n        main_page.open()\n        header.go_to_register_page()\n        registration_page.fill_registration_form(\n            is_random=False,\n            firstname=firstname,\n            lastname=lastname,\n            email=email,\n            password=password,\n        )\n        registration_page.click_on_register_button()\n>       header.logout_user()\n\nfixtures\\ui.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\header.py:31: in logout_user\n    self.find_element(*Locators.LOGOUT_LINK).click()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.header.Header object at 0x000001FF181927D0>\nstrategy = 'css selector', locator = 'a.ico-logout', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('css selector', 'a.ico-logout')\n\npages\\base_page.py:139: AssertionError","steps":[],"attachments":[{"uid":"4aceba9f7076be1","name":"stderr","source":"4aceba9f7076be1.txt","type":"text/plain","size":250}],"parameters":[],"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1},"afterStages":[{"name":"browser::0","time":{"start":1673055640401,"stop":1673055642700,"duration":2299},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"Авторизация пользователей"},{"name":"epic","value":"Frontend"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"fv-az365-666"},{"name":"thread","value":"4988-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data_login_invaliddata","value":"['wrong@email.ru', 'wrong_password', 'No customer account found', 'Login with wrong email and password']"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"b8fb0412a06e27d0.json","parameterValues":["['wrong@email.ru', 'wrong_password', 'No customer account found', 'Login with wrong email and password']"]}