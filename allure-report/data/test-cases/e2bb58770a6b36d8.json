{"uid":"e2bb58770a6b36d8","name":"Сортировка товаров по цене","fullName":"tests.test_catalog.TestCatalog#test_sort_products_by_price","historyId":"adc9c206982fc1d817bb463d9df46f27","time":{"start":1673645023064,"stop":1673645106468,"duration":83404},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')","statusTrace":"self = <pages.catalog_page.CatalogPage object at 0x0000020DCCCCF850>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:145: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"bbe163fc5ca08a545ae2e00839e63c2b\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x0000020DCCCF4D30>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x009EF243]\nE       \t(No symbol) [0x00977FD1]\nE       \t(No symbol) [0x0086D04D]\nE       \t(No symbol) [0x0089C0B0]\nE       \t(No symbol) [0x0089C22B]\nE       \t(No symbol) [0x008CE612]\nE       \t(No symbol) [0x008B85D4]\nE       \t(No symbol) [0x008CC9EB]\nE       \t(No symbol) [0x008B8386]\nE       \t(No symbol) [0x0089163C]\nE       \t(No symbol) [0x0089269D]\nE       \tGetHandleVerifier [0x00C89A22+2655074]\nE       \tGetHandleVerifier [0x00C7CA24+2601828]\nE       \tGetHandleVerifier [0x00A98C0A+619850]\nE       \tGetHandleVerifier [0x00A97830+614768]\nE       \t(No symbol) [0x009805FC]\nE       \t(No symbol) [0x00985968]\nE       \t(No symbol) [0x00985A55]\nE       \t(No symbol) [0x0099051B]\nE       \tBaseThreadInitThunk [0x75FF6A39+25]\nE       \tRtlGetFullPathName_UEx [0x77667D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77667CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_catalog.TestCatalog object at 0x0000020DCCB8EE00>\nmain_page = <pages.main_page.MainPage object at 0x0000020DCCCCF3D0>\nheader = <pages.header.Header object at 0x0000020DCCCCCE20>\ncatalog_page = <pages.catalog_page.CatalogPage object at 0x0000020DCCCCF850>\ndata_catalog_price = ['Price: High to Low', True, 'Sort by: Price: High to Low']\n\n    @title('Сортировка товаров по цене')\n    def test_sort_products_by_price(self, main_page, header, catalog_page, data_catalog_price):\n        main_page.open()\n        main_page.should_be_open_main_page()\n    \n        category_name = header.click_on_random_category_and_get_its_name()\n        catalog_page.should_be_open_catalog_page_by_title(category_name=category_name)\n    \n        catalog_page.sort_by(method=data_catalog_price[0])\n>       catalog_page.should_be_sort_by_price(is_reverse=data_catalog_price[1])\n\ntests\\test_catalog.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\catalog_page.py:156: in should_be_sort_by_price\n    self.scroll_to_buttons_block_for_product_with_name(\npages\\catalog_page.py:169: in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.catalog_page.CatalogPage object at 0x0000020DCCCCF850>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n\npages\\base_page.py:147: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser","time":{"start":1673645018528,"stop":1673645023063,"duration":4535},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"catalog_page","time":{"start":1673645023063,"stop":1673645023063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"main_page","time":{"start":1673645023063,"stop":1673645023063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"header","time":{"start":1673645023063,"stop":1673645023063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')","statusTrace":"self = <pages.catalog_page.CatalogPage object at 0x0000020DCCCCF850>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n>           return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n\npages\\base_page.py:145: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"bbe163fc5ca08a545ae2e00839e63c2b\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x0000020DCCCF4D30>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       Backtrace:\nE       \t(No symbol) [0x009EF243]\nE       \t(No symbol) [0x00977FD1]\nE       \t(No symbol) [0x0086D04D]\nE       \t(No symbol) [0x0089C0B0]\nE       \t(No symbol) [0x0089C22B]\nE       \t(No symbol) [0x008CE612]\nE       \t(No symbol) [0x008B85D4]\nE       \t(No symbol) [0x008CC9EB]\nE       \t(No symbol) [0x008B8386]\nE       \t(No symbol) [0x0089163C]\nE       \t(No symbol) [0x0089269D]\nE       \tGetHandleVerifier [0x00C89A22+2655074]\nE       \tGetHandleVerifier [0x00C7CA24+2601828]\nE       \tGetHandleVerifier [0x00A98C0A+619850]\nE       \tGetHandleVerifier [0x00A97830+614768]\nE       \t(No symbol) [0x009805FC]\nE       \t(No symbol) [0x00985968]\nE       \t(No symbol) [0x00985A55]\nE       \t(No symbol) [0x0099051B]\nE       \tBaseThreadInitThunk [0x75FF6A39+25]\nE       \tRtlGetFullPathName_UEx [0x77667D1D+173]\nE       \tRtlGetFullPathName_UEx [0x77667CEB+123]\n\nC:\\hostedtoolcache\\windows\\Python\\3.10.9\\x64\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:95: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_catalog.TestCatalog object at 0x0000020DCCB8EE00>\nmain_page = <pages.main_page.MainPage object at 0x0000020DCCCCF3D0>\nheader = <pages.header.Header object at 0x0000020DCCCCCE20>\ncatalog_page = <pages.catalog_page.CatalogPage object at 0x0000020DCCCCF850>\ndata_catalog_price = ['Price: High to Low', True, 'Sort by: Price: High to Low']\n\n    @title('Сортировка товаров по цене')\n    def test_sort_products_by_price(self, main_page, header, catalog_page, data_catalog_price):\n        main_page.open()\n        main_page.should_be_open_main_page()\n    \n        category_name = header.click_on_random_category_and_get_its_name()\n        catalog_page.should_be_open_catalog_page_by_title(category_name=category_name)\n    \n        catalog_page.sort_by(method=data_catalog_price[0])\n>       catalog_page.should_be_sort_by_price(is_reverse=data_catalog_price[1])\n\ntests\\test_catalog.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nutils\\steps.py:29: in impl\n    step_result = func(*args, **kwargs)\npages\\catalog_page.py:156: in should_be_sort_by_price\n    self.scroll_to_buttons_block_for_product_with_name(\npages\\catalog_page.py:169: in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.catalog_page.CatalogPage object at 0x0000020DCCCCF850>\nstrategy = 'xpath'\nlocator = './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]', timeout = 5\n\n    def find_element(self, strategy, locator, timeout=5) -> WebElement:\n        \"\"\"\n        Поиск элемента на странице.\n    \n        :param strategy: способ поиска элемента.\n        :param locator: локатор.\n        :param timeout: время ожидания.\n        :return: элемент.\n        \"\"\"\n        try:\n            return WebDriverWait(self.driver, timeout).until(ec.presence_of_element_located((strategy, locator)))\n        except TimeoutException:\n>           raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\nE           AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n\npages\\base_page.py:147: AssertionError","steps":[{"name":"Проверить, что открыта главная страница","time":{"start":1673645025543,"stop":1673645025815,"duration":272},"status":"passed","steps":[],"attachments":[{"uid":"7594c0dd92fc9a3a","name":"Screenshot","source":"7594c0dd92fc9a3a.png","type":"image/png","size":78476}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":false},{"name":"Кликнуть по произвольной категории","time":{"start":1673645025815,"stop":1673645030008,"duration":4193},"status":"passed","steps":[],"attachments":[{"uid":"ef0cbaefafb1e42b","name":"Screenshot","source":"ef0cbaefafb1e42b.png","type":"image/png","size":122458}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":false},{"name":"Проверить, что открыта страница каталога: 'APPAREL & SHOES'","time":{"start":1673645030008,"stop":1673645030291,"duration":283},"status":"passed","steps":[],"attachments":[{"uid":"d964226846335e7b","name":"Screenshot","source":"d964226846335e7b.png","type":"image/png","size":122458}],"parameters":[{"name":"category_name","value":"'APPAREL & SHOES'"}],"stepsCount":0,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":false},{"name":"Отсортировать товары по: 'Price: High to Low'","time":{"start":1673645030291,"stop":1673645031622,"duration":1331},"status":"passed","steps":[],"attachments":[{"uid":"98d75f8ad8e8adb3","name":"Screenshot","source":"98d75f8ad8e8adb3.png","type":"image/png","size":119442}],"parameters":[{"name":"method","value":"'Price: High to Low'"}],"stepsCount":0,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":false},{"name":"Проверить сортировку товаров по цене","time":{"start":1673645031622,"stop":1673645106468,"duration":74846},"status":"failed","statusMessage":"AssertionError: В течение 5 секунд не был найден элемент с локатором: ('xpath', './/a[text()=\"Sunglasses\"]/../..//div[@class=\"buttons\"]')\n","statusTrace":"  File \"D:\\a\\demo_web_shop\\demo_web_shop\\utils\\steps.py\", line 29, in impl\n    step_result = func(*args, **kwargs)\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\catalog_page.py\", line 156, in should_be_sort_by_price\n    self.scroll_to_buttons_block_for_product_with_name(\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\catalog_page.py\", line 169, in scroll_to_buttons_block_for_product_with_name\n    add_to_cart_button = self.find_element(strategy, locator.format(product_name))\n  File \"D:\\a\\demo_web_shop\\demo_web_shop\\pages\\base_page.py\", line 147, in find_element\n    raise AssertionError(f'В течение {timeout} секунд не был найден элемент с локатором: {(strategy, locator)}')\n","steps":[],"attachments":[{"uid":"2696beb11de08fd3","name":"Screenshot","source":"2696beb11de08fd3.png","type":"image/png","size":119442}],"parameters":[{"name":"is_reverse","value":"True"}],"stepsCount":0,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":true}],"attachments":[],"parameters":[],"stepsCount":5,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":true},"afterStages":[{"name":"browser::0","time":{"start":1673645106609,"stop":1673645108726,"duration":2117},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"Каталог"},{"name":"epic","value":"Frontend"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_catalog"},{"name":"subSuite","value":"TestCatalog"},{"name":"host","value":"fv-az365-755"},{"name":"thread","value":"5268-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_catalog"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data_catalog_price","value":"['Price: High to Low', True, 'Sort by: Price: High to Low']"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"e2bb58770a6b36d8.json","parameterValues":["['Price: High to Low', True, 'Sort by: Price: High to Low']"]}